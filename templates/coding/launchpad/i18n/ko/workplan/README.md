# 계획 관리

> **이 파일은 계획 관리의 신뢰할 수 있는 정보원입니다.** AI 에이전트는 계획을 생성, 이동 또는 수정할 때 이 지침을 따라야 합니다.

## 설정

**이슈 트래커:** 없음
<!-- 옵션: GitHub | GitLab | 없음 -->
<!-- 활성화: "GitHub" 또는 "GitLab"으로 변경하고 저장소 설정 -->

**저장소:** `사용자명/저장소명`

## 파일 명명 형식

```
TYPE-YYYY-MM-DD-NNNN-description.md
```

| 세그먼트 | 설명 | 예시 |
|----------|------|------|
| `TYPE` | 상태: `BACKLOG`, `CODING`, `DONE`, `DRAFT` | `BACKLOG` |
| `YYYY-MM-DD` | 현재 상태로의 전환 날짜 | `2026-01-15` |
| `NNNN` | 내부 순차 ID, 4자리 제로패딩 | `0001` |
| `description` | kebab-case 짧은 이름 | `user-auth-setup` |

### 내부 ID (`NNNN`)

프로젝트 고유의 증분 카운터. 다음 ID를 얻으려면:

1. 모든 하위 폴더(`backlog/`, `coding/`, `done/`)에서 가장 큰 `NNNN`을 찾기
2. 1을 더하기

ID는 **영구적**입니다 — 계획의 상태나 이름이 변경되어도 바뀌지 않습니다.

> **예약됨:** ID `0000`은 예시/템플릿 파일용으로 예약되어 있습니다. 첫 번째 실제 계획은 `0001`을 사용하세요.

### 날짜 규칙

파일 이름의 날짜는 현재 상태로의 전환을 반영합니다:

| 상태 | 파일 이름의 날짜 = |
|------|-------------------|
| BACKLOG | 계획 생성 날짜 |
| CODING | 작업 시작 날짜 |
| DONE | 완료 날짜 |

## 폴더 구조

```
workplan/
├── README.md          # 이 파일 (신뢰할 수 있는 정보원)
├── backlog/           # 대기 중인 계획
├── coding/            # 진행 중인 작업
├── done/              # 완료된 계획 (보관)
└── draft/             # 초안, 아이디어, 결정 (상태 워크플로 없음)
```

## 표준화된 헤더

```markdown
# 계획: 설명적인 제목

**상태:** Backlog | Coding | Done
**Backlog:** 2026-01-15
**Coding:** —
**Done:** —
**도메인:** 일반
**Issue:** —
```

**헤더 규칙:**
- 상태는 파일 이름 접두사와 일치해야 함
- 날짜는 각 전환이 발생한 시점을 기록 (`—`은 해당 없음)
- 이슈 트래커가 "없음"으로 설정된 경우 **Issue**는 `—`

## 표준 템플릿

### 필수 용어

| 용어 | 사용 | 예시 |
|------|------|------|
| **단계** | 주요 구현 마일스톤 | 단계 1: MVP, 단계 2: 개선 |
| **스텝** | 진행 체크리스트의 구체적인 항목 | `- [ ] SQL 마이그레이션 생성` |

### 섹션 순서

헤더 → 진행 → 목표 → 배경 → 구현 → 검증 → 리스크

선택적 섹션은 비워두지 않고 **생략**합니다.

### 템플릿

```markdown
# 계획: 설명적인 제목

**상태:** Backlog
**Backlog:** YYYY-MM-DD
**Coding:** —
**Done:** —
**도메인:** 일반
**Issue:** —

## 진행

### 단계 1: MVP
- [ ] 구체적이고 검증 가능한 스텝
- [ ] 다른 스텝

### 단계 2: 개선 *(해당하는 경우)*
- [ ] 구체적이고 검증 가능한 스텝

## 목표

무엇을 달성하고 싶은지, 왜인지 (1-3 단락).

## 배경 *(선택)*

현재 상태, 전제 조건.

## 구현

### 단계 1: MVP

구현의 기술적 세부사항.

### 단계 2: 개선 *(선택)*

## 검증 *(선택)*

계획이 올바르게 완료되었는지 확인하는 절차.

## 리스크 *(선택)*

복잡한 계획에만 해당.
```

### 규칙

1. **진행은 항상 헤더 바로 뒤에**, 끝에 두지 않음
2. 스텝은 단계별로 그룹화 (`### 단계 N: 이름`)
3. 각 스텝은 구체적이고 검증 가능해야 함 (모호하지 않게)
4. 기술적 세부사항은 구현에, 요약은 진행에 기재
5. "단계"와 "스텝"만 사용
6. 선택적 섹션은 비워두지 않고 생략

## 워크플로

### 계획 생성

1. 다음 순차 ID (`NNNN`) 획득
2. `backlog/BACKLOG-YYYY-MM-DD-NNNN-description.md`에 파일 생성

### 작업 시작

1. `backlog/`에서 `coding/CODING-YYYY-MM-DD-NNNN-description.md`로 이동 (날짜 = 오늘, ID 변경 없음)
2. 헤더 업데이트: `상태: Coding`, `Coding: YYYY-MM-DD`

### 완료

1. `coding/`에서 `done/DONE-YYYY-MM-DD-NNNN-description.md`로 이동 (날짜 = 오늘)
2. 헤더 업데이트: `상태: Done`, `Done: YYYY-MM-DD`

### backlog으로 되돌리기

1. `coding/`에서 `backlog/BACKLOG-YYYY-MM-DD-NNNN-description.md`로 이동
2. 헤더 업데이트: `상태: Backlog`

## 상호 참조

계획 간 참조에는 영구적인 **내부 ID** (`NNNN`)를 사용합니다:

```markdown
**의존성:** 계획 0001, 계획 0002

자세한 내용은 계획 0003을 참조.
```

**규칙:** 전체 파일 이름으로 계획을 참조하지 않음 (전환마다 변경됨). 항상 내부 ID를 사용.

## 다음 ID 획득

```bash
# 모든 하위 폴더에서 가장 큰 NNNN 찾기
ls workplan/{backlog,coding,done}/ | grep -oP '\d{4}' | sort -n | tail -1
# 결과에 1 더하기
```

## 초안 (드래프트)

초안은 `draft/`에 `DRAFT-YYYY-MM-DD-description.md` 형식으로 저장됩니다. BACKLOG→CODING→DONE 워크플로를 따르지 않으며 순차 ID가 없습니다. 아이디어 뱅크 역할을 합니다: 계획 초안, 기술적 결정, 탐색적 메모. 초안이 충분히 성숙하면 `backlog/`에 정식 계획으로 승격됩니다.
