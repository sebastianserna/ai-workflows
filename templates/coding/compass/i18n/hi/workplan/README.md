# योजना प्रबंधन

> **यह फ़ाइल योजना प्रबंधन का प्रामाणिक स्रोत है।** AI एजेंट को योजनाएँ बनाते, स्थानांतरित करते या संशोधित करते समय इन निर्देशों का पालन करना चाहिए।

## कॉन्फ़िगरेशन

**Issue ट्रैकर:** none
<!-- विकल्प: GitHub | GitLab | none -->
<!-- सक्रिय करने के लिए: "GitHub" या "GitLab" में बदलें और रिपॉज़िटरी कॉन्फ़िगर करें -->

**रिपॉज़िटरी:** `user/repo-name`

## फ़ाइल नामकरण प्रारूप

प्रारूप इस पर निर्भर करता है कि issue ट्रैकर कॉन्फ़िगर किया गया है या नहीं:

**Issue ट्रैकर के साथ (GitHub / GitLab):**

```
TYPE-YYYY-MM-DD-iNNNN-description.md
```

**Issue ट्रैकर के बिना (none):**

```
TYPE-YYYY-MM-DD-description.md
```

| खंड | विवरण | उदाहरण |
|-----|-------|--------|
| `TYPE` | स्थिति: `BACKLOG`, `CODING`, `DONE`, `DRAFT` | `BACKLOG` |
| `YYYY-MM-DD` | वर्तमान स्थिति में संक्रमण की तिथि | `2026-01-15` |
| `iNNNN` | Issue नंबर, 4 अंक शून्य-पैडेड `i` प्रीफ़िक्स के साथ (केवल ट्रैकर के साथ) | `i0060` |
| `description` | kebab-case में संक्षिप्त नाम | `user-auth-setup` |

### Issue पहचानकर्ता (`iNNNN`)

जब कोई issue ट्रैकर कॉन्फ़िगर किया गया है (GitHub या GitLab), तो प्रत्येक योजना के पास एक संबंधित issue **होनी चाहिए**। Issue नंबर योजना का अद्वितीय पहचानकर्ता बन जाता है:

- `i` प्रीफ़िक्स issue नंबर को अन्य संख्यात्मक खंडों से अलग करता है
- 4 अंकों तक शून्य-पैडेड: issue #7 → `i0007`, issue #123 → `i0123`
- पहचानकर्ता **स्थायी** है — यह नहीं बदलता जब योजना स्थितियों के बीच जाती है
- GitHub/GitLab परमाणु अद्वितीयता की गारंटी देता है, सहयोगी वातावरण में टकराव के जोखिमों को समाप्त करता है

**जब issue ट्रैकर "none" है**, योजनाओं में कोई पहचानकर्ता खंड नहीं होता। फ़ाइल का नाम बस `TYPE-YYYY-MM-DD-description.md` होता है।

### तिथि नियम

फ़ाइल नाम में तिथि वर्तमान स्थिति में संक्रमण को दर्शाती है:

| स्थिति | नाम में तिथि = |
|--------|---------------|
| BACKLOG | योजना बनाने की तिथि |
| CODING | काम शुरू करने की तिथि |
| DONE | पूर्ण होने की तिथि |

## फ़ोल्डर संरचना

```
workplan/
├── README.md          # यह फ़ाइल (प्रामाणिक स्रोत)
├── backlog/           # लंबित योजनाएँ
│   └── RULES.md
├── coding/            # प्रगति में कार्य
│   └── RULES.md
├── done/              # पूर्ण योजनाएँ (संग्रह)
│   └── RULES.md
└── draft/             # प्रारूप, विचार और निर्णय (कोई स्थिति वर्कफ़्लो नहीं)
    └── RULES.md
```

प्रत्येक `RULES.md` में फ़ोल्डर-विशिष्ट नियम और नामकरण परंपराएँ हैं:

- `backlog/RULES.md` — नई योजनाओं का प्रवेश बिंदु, issue निर्माण निर्देश
- `coding/RULES.md` — सक्रिय कार्य, संक्रमण और प्रगति नियम
- `done/RULES.md` — संग्रह, पूर्णता मानदंड
- `draft/RULES.md` — विचार बैंक, कोई वर्कफ़्लो नहीं, कोई issue पहचानकर्ता नहीं

## YAML Frontmatter

प्रत्येक योजना फ़ाइल को **पंक्ति 1** पर YAML frontmatter ब्लॉक से शुरू होना चाहिए (शुरुआती `---` से पहले कोई खाली पंक्ति नहीं)। GitHub इसे मेटाडेटा तालिका के रूप में प्रदर्शित करता है।

```yaml
---
plan: "वर्णनात्मक शीर्षक"
state: "backlog"
issue: ""
domain: "general"
backlog: "2026-01-15"
coding: ""
done: ""
---
```

**Frontmatter फ़ील्ड:**

| फ़ील्ड | विवरण | मान |
|--------|-------|-----|
| `plan` | संक्षिप्त वर्णनात्मक शीर्षक | मुक्त पाठ |
| `state` | वर्तमान स्थिति (फ़ाइल नाम प्रीफ़िक्स से मेल खाना चाहिए) | `backlog`, `coding`, `done`, `draft` |
| `issue` | Issue पहचानकर्ता (`iNNNN`) या खाली | `"i0060"`, `""` |
| `domain` | कार्यात्मक डोमेन | `general`, या प्रोजेक्ट-विशिष्ट |
| `backlog` | योजना बनाने की तिथि | `"2026-01-15"`, `""` |
| `coding` | काम शुरू करने की तिथि | `"2026-01-20"`, `""` |
| `done` | पूर्ण होने की तिथि | `"2026-02-01"`, `""` |

**Frontmatter नियम:**
- पहला `---` बिल्कुल पंक्ति 1 पर होना चाहिए, इससे पहले कोई खाली पंक्ति नहीं
- `state` मान फ़ाइल नाम प्रीफ़िक्स (लोअरकेस) से मेल खाना चाहिए
- **issue** `""` है यदि issue ट्रैकर "none" के रूप में कॉन्फ़िगर किया गया है
- जब ट्रैकर सक्रिय है, **issue** में पहचानकर्ता होता है: `"i0060"`
- प्रारूप (drafts) `issue` और तिथि फ़ील्ड पूरी तरह छोड़ देते हैं
- तिथि फ़ील्ड दर्ज करते हैं कि प्रत्येक संक्रमण कब हुआ (`""` यदि अभी तक नहीं पहुँचा)

## मानक टेम्पलेट

### आवश्यक शब्दावली

| शब्द | उपयोग | उदाहरण |
|------|-------|--------|
| **चरण** | प्रमुख कार्यान्वयन मील का पत्थर | चरण 1: MVP, चरण 2: सुधार |
| **कदम** | प्रगति चेकलिस्ट में ठोस आइटम | `- [ ] SQL माइग्रेशन बनाएँ` |

### अनुभाग क्रम

Frontmatter → प्रगति → उद्देश्य → संदर्भ → कार्यान्वयन → सत्यापन → जोखिम

वैकल्पिक अनुभागों को **छोड़ दिया जाता है**, खाली नहीं छोड़ा जाता।

### टेम्पलेट

```markdown
---
plan: "वर्णनात्मक शीर्षक"
state: "backlog"
issue: ""
domain: "general"
backlog: "YYYY-MM-DD"
coding: ""
done: ""
---

## प्रगति

### चरण 1: MVP
- [ ] ठोस, सत्यापन योग्य कदम
- [ ] अन्य कदम

### चरण 2: सुधार *(यदि लागू हो)*
- [ ] ठोस, सत्यापन योग्य कदम

## उद्देश्य

क्या हासिल करना है और क्यों (1-3 पैराग्राफ)।

## संदर्भ *(वैकल्पिक)*

वर्तमान स्थिति, पूर्वापेक्षाएँ।

## कार्यान्वयन

### चरण 1: MVP

कार्यान्वयन का तकनीकी विवरण।

### चरण 2: सुधार *(वैकल्पिक)*

## सत्यापन *(वैकल्पिक)*

योजना सही ढंग से पूर्ण हुई इसे मान्य करने के कदम।

## जोखिम *(वैकल्पिक)*

केवल जटिल योजनाओं के लिए।
```

### नियम

1. **प्रगति हमेशा frontmatter के बाद**, कभी अंत में नहीं
2. कदम चरण के अनुसार समूहित (`### चरण N: नाम`)
3. प्रत्येक कदम ठोस और सत्यापन योग्य होना चाहिए (सामान्य नहीं)
4. तकनीकी विवरण कार्यान्वयन में, सारांश प्रगति में
5. केवल "चरण" और "कदम" का उपयोग करें
6. वैकल्पिक अनुभाग छोड़ दिए जाते हैं, खाली नहीं छोड़े जाते

## वर्कफ़्लो

### योजना बनाएँ

**Issue ट्रैकर के साथ:**

1. पहले issue बनाएँ: `gh issue create` (GitHub) या `glab issue create` (GitLab)
2. Issue नंबर नोट करें (जैसे, #60)
3. `backlog/BACKLOG-YYYY-MM-DD-iNNNN-description.md` में फ़ाइल बनाएँ (जैसे, `BACKLOG-2026-01-15-i0060-user-auth-setup.md`)
4. Frontmatter में `issue` फ़ील्ड को पहचानकर्ता से भरें

**Issue ट्रैकर के बिना:**

1. `backlog/BACKLOG-YYYY-MM-DD-description.md` में फ़ाइल बनाएँ

### काम शुरू करें

1. `backlog/` से `coding/CODING-YYYY-MM-DD-...-description.md` में स्थानांतरित करें (तिथि = आज, पहचानकर्ता अपरिवर्तित)
2. Frontmatter अपडेट करें: `state: "coding"`, `coding: "YYYY-MM-DD"`

### पूर्ण करें

1. `coding/` से `done/DONE-YYYY-MM-DD-...-description.md` में स्थानांतरित करें (तिथि = आज)
2. Frontmatter अपडेट करें: `state: "done"`, `done: "YYYY-MM-DD"`

### बैकलॉग में वापस

1. `coding/` से `backlog/BACKLOG-YYYY-MM-DD-...-description.md` में स्थानांतरित करें
2. Frontmatter अपडेट करें: `state: "backlog"`, `coding: ""`

## क्रॉस-रेफ़रेंस

**Issue ट्रैकर के साथ:** योजनाएँ एक-दूसरे को `#N` के साथ issue नंबर द्वारा संदर्भित करती हैं, जो स्थायी है और स्वतः-लिंकिंग सक्षम करता है:

```markdown
**निर्भरताएँ:** #1, #2

विवरण के लिए #3 देखें।
```

**Issue ट्रैकर के बिना:** योजनाओं को उनके वर्णनात्मक नाम से संदर्भित करें:

```markdown
**निर्भरताएँ:** user-auth-setup, api-rate-limiting
```

**नियम:** किसी योजना को पूर्ण फ़ाइल नाम से कभी संदर्भित न करें (यह प्रत्येक संक्रमण पर बदलता है)।

## प्रारूप (ड्राफ़्ट)

प्रारूप `draft/` में `DRAFT-YYYY-MM-DD-description.md` प्रारूप में संग्रहीत होते हैं। ये BACKLOG→CODING→DONE वर्कफ़्लो का पालन नहीं करते और इनमें कोई issue पहचानकर्ता नहीं होता। ये विचार बैंक के रूप में काम करते हैं: योजना प्रारूप, तकनीकी निर्णय, खोजपूर्ण नोट। जब कोई प्रारूप पर्याप्त रूप से परिपक्व हो जाता है, तो इसे `backlog/` में औपचारिक योजना के रूप में प्रोन्नत किया जाता है।
